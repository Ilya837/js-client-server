<!DOCTYPE html>
<html>

<head>
    <title> Библиотека   </title>
    <meta charset="UTF-8">
    <style> body {background-color: #c49a6c } </style>
    <style>
        input:empty {
            background-color: #c49a6c;
        }

        input:invalid {
            background-color: #ff0026;
        }
    </style>

    <script >
        function checkCorrect() {
           if(ISBN.validity.valid){
               search.disabled = false;
            }
           else{
               search.disabled = true;

               alert("Неверный формат ISBN \n Верный формат: \n 978-5-04-168756-4 ");
           }
        }
    </script>

</head>

<body>
<a href="http://localhost:8080/taken" >Взятые книги </a>
<h1><img src = "book.png"  height = "100">
Библиотека </h1>
<hr color="black">
<h2>Поиск:</h2>
<form id="sform" method="post">
    <fieldset >
        <datalist id = "books">
            <% for (let i=0;i<names.length;i++){%>
            <option value = "<%=names[i]%>" > </option>
            <%}%>

        </datalist>
        Название :      <input type="text" name="bookName"  id="book name" style="width: 100%" list = "books"> <br> <br>
        ISBN:           <input type="text" name="ISBN" id="ISBN" onblur="checkCorrect()" style="width: 100%" pattern="97[8-9]-(?=[0-9]{1,5}-[0-9]{2,7}-[0-9]{1,6}).{11}-[0-9]" > <br> <br>

            <datalist id = "autors">
                <% for (let i=0;i<authors.length;i++){%>
                <option value = "<%=authors[i]%>" > </option>
                <%}%>
            </datalist>
        Автор:          <input type = "text" name="author" id = "author" style="width: 100%" list = "autors" > <br> <br>
        Код издания:    <input type="text" name="edition" id="edition" style="width: 100%" pattern="[0-9]{0,6}"><br> <br>

        <datalist id = "publishers">
            <% for (let i=0;i<publishers.length;i++){%>
            <option value = "<%=publishers[i]%>" > </option>
            <%}%>
        </datalist>
        Издательство :  <input type="text" name="publisher" id="publisher" style="width: 100%" list = "publishers"> <br> <br>
    </fieldset>

    <button id="search" type="submit" >Поиск</button>
</form>

</body>

</html>